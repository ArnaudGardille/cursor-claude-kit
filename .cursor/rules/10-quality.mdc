---
description: "Minimal diffs, error discipline, and packaging conventions for Python."
globs: "**/*.py"
---

# Code Quality & Change Discipline (always on)

## Minimal diffs
- Prefer the smallest change that solves the requirement.
- No refactors unless required for the task or explicitly requested.
- Avoid broad renames/reformatting unrelated to the request.

## Keep code simple
- Avoid one-off helper functions used only once unless they materially improve readability.
- Avoid duplicating constants/examples/datasets; keep a single source of truth.
- Prefer existing project utilities/patterns over inventing new ones.

## Errors & validation
- Validate inputs at boundaries (API/CLI/job entrypoints).
- Raise typed exceptions with clear messages.
- Catch exceptions only at system boundaries to add context or map to correct responses.
- Never swallow exceptions silently.

## Packaging/resources
- Use `importlib.resources` for package data.
- Avoid filesystem-relative hacks like `Path(__file__).parent.parent...`.
